<div class="container">
  <div class="row text-center">
    <div class="col-md-12">
      <h3> {{editedProjectIndex === null ? 'Create a Project' : 'Update Project'}}</h3>
      <form [formGroup]="projectEditForm" (ngSubmit)=onSubmit()>
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" formControlName="name" class="form-control">
          <span class="help-block" id="warning" *ngIf="!projectEditForm.get('name').valid && projectEditForm.get('name').touched">You must add the project name</span>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea type="text" id="description" formControlName="description" class="form-control" rows="5"></textarea>
          <span class="help-block" id="warning" *ngIf="!projectEditForm.get('description').valid && projectEditForm.get('description').touched">You must add the project description</span>
        </div>
        <div class="form-group">
          <label>Users with Access</label><br>
          <mat-form-field>
            <mat-select placeholder="Choose User Roles" formControlName="roleAccess" [(ngModel)]="selectedRoles" multiple>
              <mat-option *ngFor="let role of userRoles" [value]="role">{{role}}</mat-option>
            </mat-select>
          </mat-form-field>
          <span class="help-block" id="warning" *ngIf="!projectEditForm.get('roleAccess').valid && projectEditForm.get('roleAccess').touched"><br>You must add roles to access the project</span>
        </div>
        <div class="form-group">
          <label for="infoSections">Information Sections</label>
          <p>Insert sections separated by a comma (Ex: Passwords,Software)</p>
          <textarea type="text" id="infoSections" formControlName="infoSections" class="form-control" rows="5"></textarea>
        </div>
        <div class="form-group">
          <label>Administrators</label><br>
          <mat-form-field>
            <mat-select placeholder="Choose the administrators to the project" formControlName="administrators" [(ngModel)]="selectedAdmins" multiple>
              <mat-option *ngFor="let user of users" [value]="user.username">{{user.username}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <hr>
        <button type="submit" class="btn btn-success" [disabled]="!projectEditForm.valid">{{editedProjectIndex === null ? 'Add Project' : 'Update Project'}}</button>
        <button type="button" class="btn btn-danger" (click)="onCancel()">Cancel</button>
        <br><br>
      </form>
    </div>
  </div>
</div>
